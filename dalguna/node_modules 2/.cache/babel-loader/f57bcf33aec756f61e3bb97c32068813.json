{"ast":null,"code":"import _toConsumableArray from\"/Users/HS/Documents/GitHub/dalguna/dalguna/dalguna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/HS/Documents/GitHub/dalguna/dalguna/dalguna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import RestTitleBox from'./RestTitleBox.js';import dhspic from'../img/DHS_photo.jpeg';import MenuListItem from'./MenuListItem';import RestTab from'./RestTab.js';import TabBar from'./TabBar.js';import'../menu-page.css';import LongButton from'./LongButton.js';import MenuAddOptions from'./MenuAddOptions.js';import{AiOutlineArrowLeft}from'react-icons/ai';function MenuModal(props){// 맨 위에 이름을 가게 이름으로 하는게 나을까?\nvar menuInfo=props.menuInfo,restName=props.restName,setModal=props.setModal,cartItem=props.cartItem,setCartItem=props.setCartItem,setVisible=props.setVisible;function goBack(){setModal(/*#__PURE__*/React.createElement(React.Fragment,null));// setVisible(\"restPage\")\n}var basePrice;if(menuInfo.priceOptions){basePrice=menuInfo.price[0].price;}else{basePrice=menuInfo.price[0];}var _useState=useState(basePrice),_useState2=_slicedToArray(_useState,2),totalPrice=_useState2[0],setTotalPrice=_useState2[1];var _useState3=useState(menuInfo.price[0].name),_useState4=_slicedToArray(_useState3,2),selectedPriceOption=_useState4[0],setSelectedPriceOption=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),selectedAddOptions=_useState6[0],setSelectedAddOptions=_useState6[1];var priceOptionList=menuInfo[\"price\"].map(function(opt,i){return/*#__PURE__*/React.createElement(\"li\",{className:\"menuModal__option-item\",key:i},/*#__PURE__*/React.createElement(\"div\",{className:\"menuModal__option-item-name\"},/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",id:opt.name,value:opt.name,name:\"priceOption\",checked:selectedPriceOption===opt.name,onChange:function onChange(){return handlePriceOptionChange(opt.name,opt.price);}}),\"\\xA0\\xA0\",opt.name),/*#__PURE__*/React.createElement(\"div\",{className:\"menuModal__option-item-price\"},new Intl.NumberFormat('ko-KR',{style:'currency',currency:'KRW'}).format(opt.price)));});function handlePriceOptionChange(name,price){setSelectedPriceOption(name);setTotalPrice(price);}function addToCart(){var menuName=menuInfo.name;if(menuInfo.priceOptions){menuName=menuName+\" \"+selectedPriceOption;}var addedItem={name:menuName,qnty:1,detail:selectedAddOptions,price:totalPrice};setCartItem([].concat(_toConsumableArray(cartItem),[addedItem]));goBack();console.log(cartItem);}return/*#__PURE__*/React.createElement(\"div\",{className:\"ui-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"menuModal__\"},/*#__PURE__*/React.createElement(\"div\",{className:\"menuModal__title\"},/*#__PURE__*/React.createElement(\"button\",{className:\"menuModal__title-back\",onClick:goBack},/*#__PURE__*/React.createElement(AiOutlineArrowLeft,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"menuModal__title-restName\"},restName)),/*#__PURE__*/React.createElement(\"div\",{className:\"menu-page-info-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"menuListItem__desc-name\"},menuInfo.name),/*#__PURE__*/React.createElement(\"div\",{className:\"menuListItem__desc-detail\"},menuInfo.detail)),/*#__PURE__*/React.createElement(\"div\",{className:\"menuModal__selections\"},/*#__PURE__*/React.createElement(\"div\",{className:\"menuModal__option\"},/*#__PURE__*/React.createElement(\"span\",{className:\"menuModal__option-title\"},/*#__PURE__*/React.createElement(\"span\",null,\"Price\"),menuInfo.priceOptions?null:/*#__PURE__*/React.createElement(\"span\",null,new Intl.NumberFormat('ko-KR',{style:'currency',currency:'KRW'}).format(basePrice))),menuInfo.priceOptions?/*#__PURE__*/React.createElement(\"ul\",{className:\"menuModal__option-list\"},priceOptionList):null),/*#__PURE__*/React.createElement(\"div\",{className:\"menuModal__option\"},menuInfo.addMulti.map(function(opt,i){return/*#__PURE__*/React.createElement(MenuAddOptions,{key:i,name:opt.name,options:opt.options,type:\"checkbox\",totalPrice:totalPrice,setTotalPrice:setTotalPrice,selectedAddOptions:selectedAddOptions,setSelectedAddOptions:setSelectedAddOptions});}),menuInfo.addUni.map(function(opt,i){return/*#__PURE__*/React.createElement(MenuAddOptions,{key:i,name:opt.name,options:opt.options,type:\"radio\",totalPrice:totalPrice,setTotalPrice:setTotalPrice,selectedAddOptions:selectedAddOptions,setSelectedAddOptions:setSelectedAddOptions});}))),/*#__PURE__*/React.createElement(\"div\",{className:\"menu-page-add-to-cart-button\"},/*#__PURE__*/React.createElement(LongButton,{type:\"primary\",onClick:addToCart},\"Add to Cart (\",new Intl.NumberFormat('ko-KR',{style:'currency',currency:'KRW'}).format(totalPrice),\")\"))));}export default MenuModal;","map":{"version":3,"sources":["/Users/HS/Documents/GitHub/dalguna/dalguna/dalguna/src/components/MenuModal.js"],"names":["React","useState","RestTitleBox","dhspic","MenuListItem","RestTab","TabBar","LongButton","MenuAddOptions","AiOutlineArrowLeft","MenuModal","props","menuInfo","restName","setModal","cartItem","setCartItem","setVisible","goBack","basePrice","priceOptions","price","totalPrice","setTotalPrice","name","selectedPriceOption","setSelectedPriceOption","selectedAddOptions","setSelectedAddOptions","priceOptionList","map","opt","i","handlePriceOptionChange","Intl","NumberFormat","style","currency","format","addToCart","menuName","addedItem","qnty","detail","console","log","addMulti","options","addUni"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n\nimport RestTitleBox from './RestTitleBox.js'\n\nimport dhspic from '../img/DHS_photo.jpeg';\nimport MenuListItem from './MenuListItem';\nimport RestTab from './RestTab.js';\nimport TabBar from './TabBar.js';\nimport '../menu-page.css'\nimport LongButton from './LongButton.js';\nimport MenuAddOptions from './MenuAddOptions.js';\nimport { AiOutlineArrowLeft } from 'react-icons/ai';\n\nfunction MenuModal(props) {\n    // 맨 위에 이름을 가게 이름으로 하는게 나을까?\n    const { menuInfo, restName, setModal, cartItem, setCartItem, setVisible } = props;\n\n    function goBack() {\n        setModal(<></>)\n        // setVisible(\"restPage\")\n    }\n\n    var basePrice;\n    if (menuInfo.priceOptions) {\n        basePrice = menuInfo.price[0].price\n    } else {\n        basePrice = menuInfo.price[0]\n    }\n    const [totalPrice, setTotalPrice] = useState(basePrice)\n\n    const [selectedPriceOption, setSelectedPriceOption] = useState(menuInfo.price[0].name)\n    const [selectedAddOptions, setSelectedAddOptions] = useState([])\n\n    const priceOptionList = menuInfo[\"price\"].map((opt, i) => \n        <li className=\"menuModal__option-item\" key={i}>\n            <div className=\"menuModal__option-item-name\">\n                <input \n                    type=\"radio\"\n                    id = {opt.name}\n                    value={opt.name}\n                    name=\"priceOption\"\n                    checked={selectedPriceOption === opt.name}\n                    onChange={() => handlePriceOptionChange(opt.name, opt.price)}/>\n                &nbsp;&nbsp;{opt.name}\n            </div>\n            <div className=\"menuModal__option-item-price\">\n                {new Intl.NumberFormat('ko-KR', { style: 'currency', currency: 'KRW' })\n                    .format(opt.price)}\n            </div>\n        </li>)\n\n    function handlePriceOptionChange(name, price) {\n        setSelectedPriceOption(name)\n        setTotalPrice(price)\n    }\n\n\n    function addToCart() {\n        var menuName = menuInfo.name\n        if (menuInfo.priceOptions) {\n            menuName = menuName + \" \" + selectedPriceOption\n        }\n        const addedItem = \n        {   \n            name: menuName,\n            qnty: 1,\n            detail: selectedAddOptions,\n            price: totalPrice,\n        }\n        setCartItem([...cartItem, addedItem])\n        goBack()\n\n        console.log(cartItem)\n    }\n\n\n    return (\n        <div className=\"ui-container\">\n            {/* <div className=\"rest-title-image\" style={{backgroundImage: `url(${dhspic})`}}>\n            </div> */}\n            <div className=\"menuModal__\">\n                <div className=\"menuModal__title\">\n                    <button className=\"menuModal__title-back\" onClick={goBack}>\n                        <AiOutlineArrowLeft /> \n                    </button>\n                    <div className=\"menuModal__title-restName\">\n                        {restName}\n                    </div>\n                </div>\n                <div className=\"menu-page-info-box\">\n                    <div className=\"menuListItem__desc-name\">{menuInfo.name}</div>\n                    <div className=\"menuListItem__desc-detail\">{menuInfo.detail}</div>\n                </div>\n                <div className=\"menuModal__selections\">\n                    <div className=\"menuModal__option\">\n                        <span className=\"menuModal__option-title\">\n                            <span>Price</span>\n                            {menuInfo.priceOptions ? null : <span>{new Intl.NumberFormat('ko-KR', { style: 'currency', currency: 'KRW' })\n                            .format(basePrice)}</span>}\n                        </span>\n                        {menuInfo.priceOptions ? <ul className=\"menuModal__option-list\">{priceOptionList}</ul>\n                            : null}\n                    </div>\n                    <div className=\"menuModal__option\">\n                        {menuInfo.addMulti.map((opt, i) => \n                            <MenuAddOptions key={i} name={opt.name} options ={opt.options} type=\"checkbox\"\n                            totalPrice={totalPrice} setTotalPrice={setTotalPrice} selectedAddOptions={selectedAddOptions}\n                            setSelectedAddOptions={setSelectedAddOptions}/>)}\n                        {menuInfo.addUni.map((opt, i) => \n                            <MenuAddOptions key={i} name={opt.name} options ={opt.options} type=\"radio\"\n                            totalPrice={totalPrice} setTotalPrice={setTotalPrice} selectedAddOptions={selectedAddOptions}\n                            setSelectedAddOptions={setSelectedAddOptions}/>)}\n                    </div>\n                </div>\n                \n                <div className=\"menu-page-add-to-cart-button\">\n                    <LongButton type=\"primary\" onClick={addToCart}>Add to Cart ({new Intl.NumberFormat('ko-KR', { style: 'currency', currency: 'KRW' })\n    .format(totalPrice)})</LongButton>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default MenuModal\n"]},"metadata":{},"sourceType":"module"}