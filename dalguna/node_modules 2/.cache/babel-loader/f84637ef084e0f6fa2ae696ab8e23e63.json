{"ast":null,"code":"var _jsxFileName = \"/Users/HS/Documents/GitHub/dalguna/dalguna/dalguna/src/components/NewRoomModal.js\";\nimport React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { collection, addDoc } from 'firebase/firestore';\nimport '../new-room-modal.css';\nimport LongButton from './LongButton';\nimport { db } from '../firebase-config.js';\n\nfunction NewRoomModal(props) {\n  const {\n    restName,\n    menuList\n  } = props;\n  const [longButtonType, setLongButtonType] = useState(\"secondary\");\n  const [ordTimeJSX, setOrdTimeJSX] = useState( /*#__PURE__*/React.createElement(React.Fragment, null));\n  const [ordTime, setOrdTime] = useState();\n  const params = useParams();\n\n  const handleInputChange = e => {\n    if (e.target.value === \"\") {\n      setOrdTimeJSX( /*#__PURE__*/React.createElement(React.Fragment, null, \"\\uC8FC\\uBB38 \\uC2DC\\uAC04\\uC744 \\uC801\\uC5B4\\uC8FC\\uC138\\uC694\"));\n      setLongButtonType(\"secondary\");\n    } else {\n      var timeNow = new Date();\n      var timeOrd = new Date();\n      timeOrd.setMinutes(timeNow.getMinutes() + Number(e.target.value));\n      setOrdTimeJSX( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 29\n        }\n      }, timeOrd.getHours(), \"\\uC2DC \", timeOrd.getMinutes(), \"\\uBD84\"), \"\\uC5D0 \\uC8FC\\uBB38\\uD569\\uB2C8\\uB2E4.\"));\n      setLongButtonType(\"primary\");\n      setOrdTime(timeOrd);\n    }\n  };\n\n  function createNewRoom() {\n    const priceSum = menuList.reduce((menu, money) => menu.price + money);\n    addDoc(collection(db, \"rooms\"), {\n      id: 1,\n      restName: restName,\n      deliInfo: {\n        addr: \"아름관\",\n        poolMon: priceSum\n      },\n      'ordStat': 0,\n      parti: [{\n        id: params.userId,\n        menu: menuList,\n        ordNow: false,\n        price: priceSum\n      }],\n      endTime: ordTime\n    }).then(console.log('uploaded'));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newRoomModal__\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newRoomModal__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"New Room\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newRoomModal__restName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, restName), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"newRoomModal__form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newRoomModal__form-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, \"\\uC8FC\\uBB38 \\uC2DC\\uAC04\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newRoomModal__form-time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, \"\\uC9C0\\uAE08\\uBD80\\uD130\\xA0\", /*#__PURE__*/React.createElement(\"input\", {\n    className: \"newRoomModal__form-time-input\",\n    name: \"timeInput\",\n    onChange: handleInputChange,\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }), \"\\xA0\\uBD84 \\uD6C4\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newRoomModal__timeNotice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, ordTimeJSX), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newRoomModal__button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(LongButton, {\n    type: longButtonType,\n    onClick: createNewRoom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"Create\")));\n}\n\nexport default NewRoomModal;","map":{"version":3,"sources":["/Users/HS/Documents/GitHub/dalguna/dalguna/dalguna/src/components/NewRoomModal.js"],"names":["React","useState","useParams","collection","addDoc","LongButton","db","NewRoomModal","props","restName","menuList","longButtonType","setLongButtonType","ordTimeJSX","setOrdTimeJSX","ordTime","setOrdTime","params","handleInputChange","e","target","value","timeNow","Date","timeOrd","setMinutes","getMinutes","Number","color","getHours","createNewRoom","priceSum","reduce","menu","money","price","id","deliInfo","addr","poolMon","parti","userId","ordNow","endTime","then","console","log"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { useParams } from 'react-router-dom';\nimport { collection, addDoc } from 'firebase/firestore';\nimport '../new-room-modal.css'\nimport LongButton from './LongButton';\n\nimport { db } from '../firebase-config.js';\n\nfunction NewRoomModal(props) {\n    const { restName, menuList } = props;\n\n    const [longButtonType, setLongButtonType] = useState(\"secondary\")\n    const [ordTimeJSX, setOrdTimeJSX] = useState(<></>)\n    const [ordTime, setOrdTime] = useState()\n    const params = useParams();\n\n    const handleInputChange = (e) => {\n        if (e.target.value === \"\") {\n            setOrdTimeJSX(<>주문 시간을 적어주세요</>)\n            setLongButtonType(\"secondary\")\n        } else {\n            var timeNow = new Date()\n            var timeOrd = new Date()\n            timeOrd.setMinutes(timeNow.getMinutes() + Number(e.target.value))\n            \n            setOrdTimeJSX(<><span style={{color:\"black\"}}>{timeOrd.getHours()}시 {timeOrd.getMinutes()}분</span>에 주문합니다.</>)\n            setLongButtonType(\"primary\")\n            setOrdTime(timeOrd)\n        }\n    }\n\n    function createNewRoom() {\n        const priceSum = menuList.reduce((menu, money) => menu.price + money);\n        addDoc(collection(db, \"rooms\"), {\n            id: 1, restName: restName,\n            deliInfo: { addr: \"아름관\", poolMon: priceSum }, 'ordStat': 0,\n            parti: [{ id: params.userId, menu: menuList, ordNow: false, price: priceSum }],\n            endTime: ordTime\n        }).then(console.log('uploaded'))\n    }\n\n    return (\n        <div className=\"newRoomModal__\">\n            <div className=\"newRoomModal__title\">New Room</div>\n            <div className=\"newRoomModal__restName\">{restName}</div>\n            <form className=\"newRoomModal__form\">\n                <div className=\"newRoomModal__form-name\">\n                    주문 시간\n                </div>\n                <div className=\"newRoomModal__form-time\">\n                    지금부터&nbsp;\n                    <input className=\"newRoomModal__form-time-input\" \n                            name=\"timeInput\"\n                            onChange={handleInputChange}\n                            type=\"number\"/>\n                    &nbsp;분 후\n                </div>\n            </form>\n            <div className=\"newRoomModal__timeNotice\">\n                {ordTimeJSX}\n                \n            </div>\n            <div className=\"newRoomModal__button\">\n                <LongButton type={longButtonType} onClick={createNewRoom}>Create</LongButton>\n            </div>\n        </div>\n    )\n}\n\nexport default NewRoomModal;"]},"metadata":{},"sourceType":"module"}