{"ast":null,"code":"import _slicedToArray from\"/Users/HS/Documents/GitHub/dalguna/dalguna/dalguna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import RestTitleBox from'../components/RestTitleBox.js';import dhspic from'../img/DHS_photo.jpeg';import MenuListItem from'../components/MenuListItem';import RestTab from'../components/RestTab.js';import TabBar from'../components/TabBar.js';import CartButton from'../components/CartButton.js';import MenuModal from'../components/MenuModal.js';import CartModal from'../components/CartModal.js';import staticDB from\"../db/static.json\";import'../rest-page.css';import{AiOutlineArrowLeft}from\"react-icons/ai\";function RestaurantPage(){var params=useParams();var navigate=useNavigate();var arrRestName=[\"대학생 치킨\",\"베리신주쿠\",\"마쯔미\"];var _useState=useState(\"restPage\"),_useState2=_slicedToArray(_useState,2),classNameRestPage=_useState2[0],setClassNameRestPage=_useState2[1];var _useState3=useState(staticDB[params.restId]),_useState4=_slicedToArray(_useState3,2),restInfo=_useState4[0],setRestInfo=_useState4[1];var _useState5=useState(restInfo.menu),_useState6=_slicedToArray(_useState5,2),menuItemInfo=_useState6[0],setMenuItemInfo=_useState6[1];var _useState7=useState(/*#__PURE__*/React.createElement(React.Fragment,null)),_useState8=_slicedToArray(_useState7,2),modal=_useState8[0],setModal=_useState8[1];function openMenuModal(menu){setModal(/*#__PURE__*/React.createElement(MenuModal,{menuInfo:menu,restName:restInfo.name,setModal:setModal,cartItem:cartItem,setCartItem:setCartItem,setVisible:setClassNameRestPage}));// setClassNameRestPage(\"restPage-hide\")\n}function handleCartItemUpdate(){if(document.getElementsByClassName(\"restPage\")[0].previousSibling!==null&&document.getElementsByClassName(\"restPage\")[0].previousSibling.className===\"CartModal__\"){setModal(/*#__PURE__*/React.createElement(CartModal,{restName:restInfo.name,menuList:cartItem,setMenuList:setCartItem,setModal:setModal,setVisible:setClassNameRestPage}));}}var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),cartItem=_useState10[0],setCartItem=_useState10[1];useEffect(handleCartItemUpdate,[cartItem]);function openCartModal(){setModal(/*#__PURE__*/React.createElement(CartModal,{restName:restInfo.name,menuList:cartItem,setMenuList:setCartItem,setModal:setModal,setVisible:setClassNameRestPage}));// setClassNameRestPage(\"restPage-hide\")\n}var menuList=menuItemInfo.map(function(menu){return/*#__PURE__*/React.createElement(\"li\",{key:menu.id,style:{listStyle:'none'},className:\"mainPage__menu-item\"},/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return openMenuModal(menu);}},\" \",/*#__PURE__*/React.createElement(MenuListItem,{menuItemInfo:menu})));});var info=/*#__PURE__*/React.createElement(\"div\",{className:\"restPage__info\"},/*#__PURE__*/React.createElement(\"p\",{className:\"restPage__info-text\"},restInfo.info),/*#__PURE__*/React.createElement(\"div\",{className:\"restPage__info-opening\"},/*#__PURE__*/React.createElement(\"p\",null,\"Open at \",restInfo.open),/*#__PURE__*/React.createElement(\"p\",null,\"Close at \",restInfo.close)));// TBD\nvar roomList=/*#__PURE__*/React.createElement(\"div\",null);var _useState11=useState(\"menu\"),_useState12=_slicedToArray(_useState11,2),curTab=_useState12[0],setCurTab=_useState12[1];var curTabContent={\"menu\":menuList,\"info\":info,\"room\":roomList};function goBack(){if(cartItem.length!=0){if(window.confirm(\"카트가 비워집니다. 뒤로 가시겠습니까?\")){navigate(-1);}}else{navigate(-1);}}return/*#__PURE__*/React.createElement(\"div\",{className:\"ui-container\"},modal,/*#__PURE__*/React.createElement(\"div\",{className:classNameRestPage},/*#__PURE__*/React.createElement(\"div\",{className:\"rest-title-image\",style:{backgroundImage:\"url(\".concat(dhspic,\")\")}},/*#__PURE__*/React.createElement(\"button\",{className:\"rest-title-back\",onClick:goBack},/*#__PURE__*/React.createElement(AiOutlineArrowLeft,null)),/*#__PURE__*/React.createElement(RestTitleBox,{restName:restInfo.name,restRating:\"5.0 (100)\"})),/*#__PURE__*/React.createElement(RestTab,{curTab:curTab,setCurTab:setCurTab}),/*#__PURE__*/React.createElement(\"ul\",{className:\"restPage__content-list\"},curTabContent[curTab]),/*#__PURE__*/React.createElement(CartButton,{cartItem:cartItem,onClick:openCartModal})));}export default RestaurantPage;","map":{"version":3,"sources":["/Users/HS/Documents/GitHub/dalguna/dalguna/dalguna/src/pages/RestaurantPage.js"],"names":["React","useState","useEffect","useParams","useNavigate","RestTitleBox","dhspic","MenuListItem","RestTab","TabBar","CartButton","MenuModal","CartModal","staticDB","AiOutlineArrowLeft","RestaurantPage","params","navigate","arrRestName","classNameRestPage","setClassNameRestPage","restId","restInfo","setRestInfo","menu","menuItemInfo","setMenuItemInfo","modal","setModal","openMenuModal","name","cartItem","setCartItem","handleCartItemUpdate","document","getElementsByClassName","previousSibling","className","openCartModal","menuList","map","id","listStyle","info","open","close","roomList","curTab","setCurTab","curTabContent","goBack","length","window","confirm","backgroundImage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom'\n\nimport RestTitleBox from '../components/RestTitleBox.js'\n\nimport dhspic from '../img/DHS_photo.jpeg';\nimport MenuListItem from '../components/MenuListItem';\nimport RestTab from '../components/RestTab.js';\nimport TabBar from '../components/TabBar.js';\nimport CartButton from '../components/CartButton.js';\nimport MenuModal from '../components/MenuModal.js';\nimport CartModal from '../components/CartModal.js';\n\nimport staticDB from \"../db/static.json\";\nimport '../rest-page.css'\nimport { AiOutlineArrowLeft } from \"react-icons/ai\";\n\nfunction RestaurantPage() {\n  const params = useParams();\n  const navigate = useNavigate();\n  const arrRestName = [\"대학생 치킨\", \"베리신주쿠\", \"마쯔미\"];\n\n  const [classNameRestPage, setClassNameRestPage] = useState(\"restPage\");\n\n  const [restInfo, setRestInfo] = useState(staticDB[params.restId])\n  const [menuItemInfo, setMenuItemInfo]\n  // = useState([{\n  //   id: 0,\n  //   name: \"냉모밀+돈까스만 (+보통소스,매운소스 선택)\", \n  //   detail: \"면요리(선택)+돈까스단품(선택)\",\n  //   price: 13500,\n  //   img: dhspic\n  // },{\n  //   id: 1,\n  //   name: \"돈까스정식+냉모밀 세트\",\n  //   detail: \"돈까스(선택) + 소스2종 + 냉모밀 (미니냉모밀,빵잼은 제공하지 않아용)\",\n  //   price: 16000,\n  //   img: dhspic,} \n  // ])\n  = useState(restInfo.menu)\n  \n  const [modal, setModal] = useState(<></>)\n\n  function openMenuModal(menu) {\n    setModal(<MenuModal menuInfo={menu} restName={restInfo.name} setModal={setModal} cartItem={cartItem} setCartItem={setCartItem} setVisible={setClassNameRestPage}></MenuModal>)\n    // setClassNameRestPage(\"restPage-hide\")\n  }\n  \n  function handleCartItemUpdate() {\n    if (document.getElementsByClassName(\"restPage\")[0].previousSibling !== null \n      && document.getElementsByClassName(\"restPage\")[0].previousSibling.className === \"CartModal__\") {\n      setModal(<CartModal restName={restInfo.name} menuList={cartItem} setMenuList={setCartItem} setModal={setModal} setVisible={setClassNameRestPage}></CartModal>)\n    }\n      \n  }\n  \n  const [cartItem, setCartItem] \n    = useState([])\n  useEffect(handleCartItemUpdate, [cartItem])\n  \n  function openCartModal() {\n    setModal(<CartModal restName={restInfo.name} menuList={cartItem} setMenuList={setCartItem} setModal={setModal} setVisible={setClassNameRestPage}></CartModal>)\n    // setClassNameRestPage(\"restPage-hide\")\n  }\n\n  const menuList = menuItemInfo.map((menu) => \n  <li key={menu.id} style={{listStyle:'none'}} className = \"mainPage__menu-item\">\n    <a onClick={() => openMenuModal(menu)}> <MenuListItem menuItemInfo={menu}></MenuListItem></a>\n  </li>\n  )\n\n  const info = \n    <div className = \"restPage__info\">\n      <p className = \"restPage__info-text\">{restInfo.info}</p>\n      <div className = \"restPage__info-opening\">\n        <p>Open at {restInfo.open}</p>\n        <p>Close at {restInfo.close}</p>\n      </div>\n    </div>\n  \n  // TBD\n  const roomList = <div></div>\n\n  const [curTab, setCurTab] = useState(\"menu\");\n  const curTabContent = {\n    \"menu\": menuList,\n    \"info\": info,\n    \"room\": roomList\n  }\n\n  function goBack() {\n    if (cartItem.length != 0) {\n      if (window.confirm(\"카트가 비워집니다. 뒤로 가시겠습니까?\")) {\n        navigate(-1)\n      }\n    } else {\n      navigate(-1)\n    }\n  }\n\n\n    return (\n        <div className=\"ui-container\">\n          {modal}\n          <div className={classNameRestPage}>\n            {/* <TabBar/> */}\n            \n            <div className=\"rest-title-image\" style={{backgroundImage: `url(${dhspic})`}}>\n                <button className=\"rest-title-back\" onClick={goBack}>\n                    <AiOutlineArrowLeft /> \n                </button>\n                <RestTitleBox restName={restInfo.name} restRating=\"5.0 (100)\"></RestTitleBox>   \n            </div>\n            <RestTab curTab = {curTab} setCurTab = {setCurTab}/>\n            <ul className=\"restPage__content-list\">\n              {curTabContent[curTab]}\n            </ul>\n            <CartButton cartItem={cartItem} onClick={openCartModal}/>\n          </div>\n        </div>\n    )\n    }\n\n\nexport default RestaurantPage\n"]},"metadata":{},"sourceType":"module"}