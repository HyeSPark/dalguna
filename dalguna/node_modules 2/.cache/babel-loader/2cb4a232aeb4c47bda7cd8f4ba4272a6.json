{"ast":null,"code":"import _slicedToArray from\"/Users/HS/Documents/GitHub/dalguna/dalguna/dalguna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useParams,Link}from'react-router-dom';import{collection,addDoc}from'firebase/firestore';import'../new-room-modal.css';import LongButton from'./LongButton';import{db}from'../firebase-config.js';function NewRoomModal(props){var restName=props.restName,menuList=props.menuList,deliAddr=props.deliAddr;var _useState=useState(\"secondary\"),_useState2=_slicedToArray(_useState,2),longButtonType=_useState2[0],setLongButtonType=_useState2[1];var _useState3=useState(/*#__PURE__*/React.createElement(React.Fragment,null)),_useState4=_slicedToArray(_useState3,2),ordTimeJSX=_useState4[0],setOrdTimeJSX=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),ordTime=_useState6[0],setOrdTime=_useState6[1];var params=useParams();var handleInputChange=function handleInputChange(e){if(e.target.value===\"\"){setOrdTimeJSX(/*#__PURE__*/React.createElement(React.Fragment,null,\"\\uC8FC\\uBB38 \\uC2DC\\uAC04\\uC744 \\uC801\\uC5B4\\uC8FC\\uC138\\uC694\"));setLongButtonType(\"secondary\");}else{var timeNow=new Date();var timeOrd=new Date();timeOrd.setMinutes(timeNow.getMinutes()+Number(e.target.value));setOrdTimeJSX(/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{style:{color:\"black\"}},timeOrd.getHours(),\"\\uC2DC \",timeOrd.getMinutes(),\"\\uBD84\"),\"\\uC5D0 \\uC8FC\\uBB38\\uD569\\uB2C8\\uB2E4.\"));setLongButtonType(\"primary\");setOrdTime(timeOrd);}};function createNewRoom(){var priceSum=menuList.reduce(function(money,menu){return money+menu.price;},0);addDoc(collection(db,\"rooms\"),{restName:restName,addr:deliAddr,'ordStat':0,parti:[{id:params.userId,menu:menuList,ordNow:false,price:priceSum}],endTime:ordTime}).then(console.log('uploaded'));}return/*#__PURE__*/React.createElement(\"div\",{className:\"newRoomModal__\"},/*#__PURE__*/React.createElement(\"div\",{className:\"newRoomModal__title\"},\"New Room\"),/*#__PURE__*/React.createElement(\"div\",{className:\"newRoomModal__restName\"},restName),/*#__PURE__*/React.createElement(\"form\",{className:\"newRoomModal__form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"newRoomModal__form-name\"},\"\\uC8FC\\uBB38 \\uC2DC\\uAC04\"),/*#__PURE__*/React.createElement(\"div\",{className:\"newRoomModal__form-time\"},\"\\uC9C0\\uAE08\\uBD80\\uD130\\xA0\",/*#__PURE__*/React.createElement(\"input\",{className:\"newRoomModal__form-time-input\",name:\"timeInput\",onChange:handleInputChange,type:\"number\"}),\"\\xA0\\uBD84 \\uD6C4\")),/*#__PURE__*/React.createElement(\"div\",{className:\"newRoomModal__timeNotice\"},ordTimeJSX),/*#__PURE__*/React.createElement(\"div\",{className:\"newRoomModal__button\"},/*#__PURE__*/React.createElement(Link,{to:\"../\".concat(params.userId)},/*#__PURE__*/React.createElement(LongButton,{type:longButtonType,onClick:createNewRoom},\"Create\"))));}export default NewRoomModal;","map":{"version":3,"sources":["/Users/HS/Documents/GitHub/dalguna/dalguna/dalguna/src/components/NewRoomModal.js"],"names":["React","useState","useParams","Link","collection","addDoc","LongButton","db","NewRoomModal","props","restName","menuList","deliAddr","longButtonType","setLongButtonType","ordTimeJSX","setOrdTimeJSX","ordTime","setOrdTime","params","handleInputChange","e","target","value","timeNow","Date","timeOrd","setMinutes","getMinutes","Number","color","getHours","createNewRoom","priceSum","reduce","money","menu","price","addr","parti","id","userId","ordNow","endTime","then","console","log"],"mappings":"yKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,CAAoBC,IAApB,KAAgC,kBAAhC,CACA,OAASC,UAAT,CAAqBC,MAArB,KAAmC,oBAAnC,CACA,MAAO,uBAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CAEA,OAASC,EAAT,KAAmB,uBAAnB,CAEA,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CACzB,GAAQC,CAAAA,QAAR,CAAyCD,KAAzC,CAAQC,QAAR,CAAkBC,QAAlB,CAAyCF,KAAzC,CAAkBE,QAAlB,CAA4BC,QAA5B,CAAyCH,KAAzC,CAA4BG,QAA5B,CAEA,cAA4CX,QAAQ,CAAC,WAAD,CAApD,wCAAOY,cAAP,eAAuBC,iBAAvB,eACA,eAAoCb,QAAQ,cAAC,wCAAD,CAA5C,yCAAOc,UAAP,eAAmBC,aAAnB,eACA,eAA8Bf,QAAQ,EAAtC,yCAAOgB,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,MAAM,CAAGjB,SAAS,EAAxB,CAEA,GAAMkB,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,CAAD,CAAO,CAC7B,GAAIA,CAAC,CAACC,MAAF,CAASC,KAAT,GAAmB,EAAvB,CAA2B,CACvBP,aAAa,cAAC,yGAAD,CAAb,CACAF,iBAAiB,CAAC,WAAD,CAAjB,CACH,CAHD,IAGO,CACH,GAAIU,CAAAA,OAAO,CAAG,GAAIC,CAAAA,IAAJ,EAAd,CACA,GAAIC,CAAAA,OAAO,CAAG,GAAID,CAAAA,IAAJ,EAAd,CACAC,OAAO,CAACC,UAAR,CAAmBH,OAAO,CAACI,UAAR,GAAuBC,MAAM,CAACR,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhD,EAEAP,aAAa,cAAC,qDAAE,4BAAM,KAAK,CAAE,CAACc,KAAK,CAAC,OAAP,CAAb,EAA+BJ,OAAO,CAACK,QAAR,EAA/B,WAAqDL,OAAO,CAACE,UAAR,EAArD,UAAF,0CAAD,CAAb,CACAd,iBAAiB,CAAC,SAAD,CAAjB,CACAI,UAAU,CAACQ,OAAD,CAAV,CACH,CACJ,CAbD,CAeA,QAASM,CAAAA,aAAT,EAAyB,CACrB,GAAMC,CAAAA,QAAQ,CAAGtB,QAAQ,CAACuB,MAAT,CAAgB,SAACC,KAAD,CAAQC,IAAR,QAAiBD,CAAAA,KAAK,CAAGC,IAAI,CAACC,KAA9B,EAAhB,CAAqD,CAArD,CAAjB,CACAhC,MAAM,CAACD,UAAU,CAACG,EAAD,CAAK,OAAL,CAAX,CAA0B,CAC5BG,QAAQ,CAAEA,QADkB,CAE5B4B,IAAI,CAAE1B,QAFsB,CAEZ,UAAW,CAFC,CAG5B2B,KAAK,CAAE,CAAC,CAAEC,EAAE,CAAErB,MAAM,CAACsB,MAAb,CAAqBL,IAAI,CAAEzB,QAA3B,CAAqC+B,MAAM,CAAE,KAA7C,CAAoDL,KAAK,CAAEJ,QAA3D,CAAD,CAHqB,CAI5BU,OAAO,CAAE1B,OAJmB,CAA1B,CAAN,CAKG2B,IALH,CAKQC,OAAO,CAACC,GAAR,CAAY,UAAZ,CALR,EAMH,CAED,mBACI,2BAAK,SAAS,CAAC,gBAAf,eACI,2BAAK,SAAS,CAAC,qBAAf,aADJ,cAEI,2BAAK,SAAS,CAAC,wBAAf,EAAyCpC,QAAzC,CAFJ,cAGI,4BAAM,SAAS,CAAC,oBAAhB,eACI,2BAAK,SAAS,CAAC,yBAAf,8BADJ,cAII,2BAAK,SAAS,CAAC,yBAAf,8CAEI,6BAAO,SAAS,CAAC,+BAAjB,CACQ,IAAI,CAAC,WADb,CAEQ,QAAQ,CAAEU,iBAFlB,CAGQ,IAAI,CAAC,QAHb,EAFJ,qBAJJ,CAHJ,cAgBI,2BAAK,SAAS,CAAC,0BAAf,EACKL,UADL,CAhBJ,cAoBI,2BAAK,SAAS,CAAC,sBAAf,eACI,oBAAC,IAAD,EAAM,EAAE,cAAQI,MAAM,CAACsB,MAAf,CAAR,eACA,oBAAC,UAAD,EAAY,IAAI,CAAE5B,cAAlB,CAAkC,OAAO,CAAEmB,aAA3C,WADA,CADJ,CApBJ,CADJ,CA4BH,CAED,cAAexB,CAAAA,YAAf","sourcesContent":["import React, { useState } from 'react'\nimport { useParams, Link } from 'react-router-dom';\nimport { collection, addDoc } from 'firebase/firestore';\nimport '../new-room-modal.css'\nimport LongButton from './LongButton';\n\nimport { db } from '../firebase-config.js';\n\nfunction NewRoomModal(props) {\n    const { restName, menuList, deliAddr } = props;\n\n    const [longButtonType, setLongButtonType] = useState(\"secondary\")\n    const [ordTimeJSX, setOrdTimeJSX] = useState(<></>)\n    const [ordTime, setOrdTime] = useState()\n    const params = useParams();\n\n    const handleInputChange = (e) => {\n        if (e.target.value === \"\") {\n            setOrdTimeJSX(<>주문 시간을 적어주세요</>)\n            setLongButtonType(\"secondary\")\n        } else {\n            var timeNow = new Date()\n            var timeOrd = new Date()\n            timeOrd.setMinutes(timeNow.getMinutes() + Number(e.target.value))\n            \n            setOrdTimeJSX(<><span style={{color:\"black\"}}>{timeOrd.getHours()}시 {timeOrd.getMinutes()}분</span>에 주문합니다.</>)\n            setLongButtonType(\"primary\")\n            setOrdTime(timeOrd)\n        }\n    }\n\n    function createNewRoom() {\n        const priceSum = menuList.reduce((money, menu) => money + menu.price, 0);\n        addDoc(collection(db, \"rooms\"), {\n            restName: restName,\n            addr: deliAddr, 'ordStat': 0,\n            parti: [{ id: params.userId, menu: menuList, ordNow: false, price: priceSum }],\n            endTime: ordTime\n        }).then(console.log('uploaded'))\n    }\n\n    return (\n        <div className=\"newRoomModal__\">\n            <div className=\"newRoomModal__title\">New Room</div>\n            <div className=\"newRoomModal__restName\">{restName}</div>\n            <form className=\"newRoomModal__form\">\n                <div className=\"newRoomModal__form-name\">\n                    주문 시간\n                </div>\n                <div className=\"newRoomModal__form-time\">\n                    지금부터&nbsp;\n                    <input className=\"newRoomModal__form-time-input\" \n                            name=\"timeInput\"\n                            onChange={handleInputChange}\n                            type=\"number\"/>\n                    &nbsp;분 후\n                </div>\n            </form>\n            <div className=\"newRoomModal__timeNotice\">\n                {ordTimeJSX}\n                \n            </div>\n            <div className=\"newRoomModal__button\">\n                <Link to={`../${params.userId}`}>\n                <LongButton type={longButtonType} onClick={createNewRoom}>Create</LongButton>\n                </Link>\n            </div>\n        </div>\n    )\n}\n\nexport default NewRoomModal;"]},"metadata":{},"sourceType":"module"}