{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/HS/Documents/GitHub/dalguna/dalguna/dalguna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"/Users/HS/Documents/GitHub/dalguna/dalguna/dalguna/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{collection,getDocs,doc,query,onSnapshot}from\"firebase/firestore\";import{db}from\"../firebase-config.js\";import RoomCard from'../components/RoomCard';import CatFilter from'./CatFilter';import CatItem from'../components/CatItem';import RestCard from'../components/RestCard.js';import NavBar from'../components/NavBar.js';import TabBar from'../components/TabBar.js';import CartModal from\"../components/CartModal\";import staticDB from\"../db/static.json\";import dhspic from'../img/DHS_photo.jpeg';import\"../main.css\";// function getDB(restInfo, setRestInfo, roomInfo, setRoomInfo) {\n//   getDocs(collection(db, 'DYNAMIC')).then((snapshot) => {\n//     const tmp = [];\n//     snapshot.forEach((doc) => tmp.push(doc.data()))\n//     setRoomInfo(tmp.map((room) => ({\n//       'restName': room.restName, 'deliLoc': room.deliLoc,\n//       'poolMon': room.poolMon, 'endTime': room.endTime,\n//       'ordStat': room.ordStat, 'participants': room.participants,\n//       'roomId': room.roomID,\n//       'timeLeft': 15\n//     })))\n//   })\n// }\nfunction Main(){var restInfo=staticDB;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),roomInfo=_useState2[0],setRoomInfo=_useState2[1];function getRooms(){onSnapshot(collection(db,\"rooms\"),function(snapshot){var tmp=[];snapshot.forEach(function(doc){return tmp.push(doc.data());});setRoomInfo(tmp.map(function(room){return{'roomId':room.id,'restName':room.restName,'deliInfo':room.deliInfo,'ordStat':room.ordStat,'parti':room.parti/*, 'entime': room.endTime*/};}));});}useEffect(function(){getRooms();},[]);var catInfoList=[{name:\"Korean\",img:dhspic},{name:\"Japanese\",img:dhspic},{name:\"Snacks\",img:dhspic},{name:\"Asian\",img:dhspic},{name:\"Salad\",img:dhspic},{name:\"Doshirak\",img:dhspic},{name:\"중국집\",img:dhspic},{name:\"덮밥\",img:dhspic}];var _iterator=_createForOfIteratorHelper(roomInfo),_step;try{var _loop=function _loop(){var room=_step.value;room['rest']=restInfo.filter(function(rest){return rest.name==room.restName;})[0];};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}var restList=restInfo.map(function(rest){return/*#__PURE__*/React.createElement(\"li\",{key:rest.name,style:{listStyle:'none'}},/*#__PURE__*/React.createElement(Link,{to:\"./restaurant/\".concat(rest.id)},/*#__PURE__*/React.createElement(RestCard,{restInfo:rest})));});// [NOT IMPLEMENTED] key will be changed below (room name is not unique)\nvar roomList=roomInfo.map(function(room){return/*#__PURE__*/React.createElement(\"li\",{key:room.roomId,style:{listStyle:'none'}},/*#__PURE__*/React.createElement(\"a\",{href:\"#\"},\" \",/*#__PURE__*/React.createElement(RoomCard,{roomInfo:room})));});var catList=catInfoList.map(function(cat){return/*#__PURE__*/React.createElement(\"li\",{key:cat.name,style:{listStyle:'none'}},/*#__PURE__*/React.createElement(Link,{to:{pathname:\"./filter/\".concat(cat.name)}},\" \",/*#__PURE__*/React.createElement(CatItem,{img:cat.img,name:cat.name}),\" \"));});return/*#__PURE__*/React.createElement(\"div\",{className:\"ui-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mainPage__\"},/*#__PURE__*/React.createElement(NavBar,null),/*#__PURE__*/React.createElement(\"div\",{style:{height:\"105px\"}}),/*#__PURE__*/React.createElement(\"div\",{className:\"mainPage__title\"},\"Food Categories\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"mainPage__cat-list\"},catList),/*#__PURE__*/React.createElement(\"div\",{className:\"mainPage__separation\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"mainPage__title\"},\"Your Room\"),/*#__PURE__*/React.createElement(\"ul\",{style:{margin:0},className:\"mainPage__room-list\"},roomList[2]),/*#__PURE__*/React.createElement(\"div\",{className:\"mainPage__separation\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"mainPage__title\"},\"Room Suggestions\"),/*#__PURE__*/React.createElement(\"ul\",{style:{margin:0},className:\"mainPage__room-list\"},roomList.slice(0,2)),/*#__PURE__*/React.createElement(\"div\",{className:\"mainPage__separation\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"mainPage__title\"},\"Restaurant List\"),/*#__PURE__*/React.createElement(\"ul\",{style:{margin:0},className:\"mainPage__rest-card-list\"},restList)));}export default Main;","map":{"version":3,"sources":["/Users/HS/Documents/GitHub/dalguna/dalguna/dalguna/src/pages/Main.js"],"names":["React","useState","useEffect","Link","collection","getDocs","doc","query","onSnapshot","db","RoomCard","CatFilter","CatItem","RestCard","NavBar","TabBar","CartModal","staticDB","dhspic","Main","restInfo","roomInfo","setRoomInfo","getRooms","snapshot","tmp","forEach","push","data","map","room","id","restName","deliInfo","ordStat","parti","catInfoList","name","img","filter","rest","restList","listStyle","roomList","roomId","catList","cat","pathname","height","margin","slice"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { collection, getDocs, doc, query, onSnapshot } from \"firebase/firestore\";\nimport { db } from \"../firebase-config.js\";\n\nimport RoomCard from '../components/RoomCard';\nimport CatFilter from './CatFilter';\nimport CatItem from '../components/CatItem';\nimport RestCard from '../components/RestCard.js'\nimport NavBar from '../components/NavBar.js'\nimport TabBar from '../components/TabBar.js'\nimport CartModal from \"../components/CartModal\";\n\nimport staticDB from \"../db/static.json\";\nimport dhspic from '../img/DHS_photo.jpeg';\n\nimport \"../main.css\";\n\n// function getDB(restInfo, setRestInfo, roomInfo, setRoomInfo) {\n//   getDocs(collection(db, 'DYNAMIC')).then((snapshot) => {\n//     const tmp = [];\n//     snapshot.forEach((doc) => tmp.push(doc.data()))\n//     setRoomInfo(tmp.map((room) => ({\n//       'restName': room.restName, 'deliLoc': room.deliLoc,\n//       'poolMon': room.poolMon, 'endTime': room.endTime,\n//       'ordStat': room.ordStat, 'participants': room.participants,\n//       'roomId': room.roomID,\n//       'timeLeft': 15\n//     })))\n//   })\n// }\n\nfunction Main() {\n  const restInfo = staticDB;\n  const [roomInfo, setRoomInfo] = useState([]);\n\n  function getRooms() {\n    onSnapshot(collection(db, \"rooms\"), (snapshot) => {\n      const tmp = [];\n      snapshot.forEach((doc) => tmp.push(doc.data()))\n      setRoomInfo(tmp.map((room) => ({\n        'roomId': room.id, 'restName': room.restName,\n        'deliInfo': room.deliInfo, 'ordStat': room.ordStat,\n        'parti': room.parti /*, 'entime': room.endTime*/\n      })));\n    })\n  }\n\n  useEffect(() => {\n    getRooms();\n  }, []);\n\n  const catInfoList = [\n    {name: \"Korean\", img:dhspic}, \n    {name: \"Japanese\", img:dhspic},\n    {name: \"Snacks\", img:dhspic},\n    {name: \"Asian\", img:dhspic},\n    {name: \"Salad\", img:dhspic},\n    {name: \"Doshirak\", img:dhspic},\n    {name: \"중국집\", img:dhspic},\n    {name: \"덮밥\", img:dhspic},\n  ]\n  \n  for (const room of roomInfo) {\n    room['rest'] = restInfo.filter((rest) => rest.name == room.restName)[0];\n  }\n\n  const restList = restInfo.map((rest) => \n  <li key={rest.name} style={{listStyle:'none'}}>\n     <Link to={`./restaurant/${rest.id}`}><RestCard restInfo={rest}></RestCard></Link>\n  </li>)\n\n    // [NOT IMPLEMENTED] key will be changed below (room name is not unique)\n  const roomList = roomInfo.map((room) => \n  <li key={room.roomId} style={{listStyle:'none'}}>\n      <a href=\"#\"> <RoomCard roomInfo={room}></RoomCard></a>\n  </li>\n  )\n\n  const catList = catInfoList.map((cat) => \n      <li key={cat.name} style={{listStyle:'none'}}>\n        <Link to={{\n          pathname:`./filter/${cat.name}`}}> <CatItem img={cat.img} name={cat.name}></CatItem> </Link>\n      </li>\n  )\n\n  return (\n    <div className=\"ui-container\">\n      <div className=\"mainPage__\">\n        <NavBar/>\n        <div style={{height:\"105px\"}}/>\n        <div className = \"mainPage__title\">Food Categories</div>\n        <ul className = \"mainPage__cat-list\">\n            {catList}\n        </ul>\n        <div className = \"mainPage__separation\"/>\n        <div className = \"mainPage__title\">Your Room</div>\n        <ul style={{margin:0}} className = \"mainPage__room-list\">\n            {roomList[2]}\n        </ul>\n        <div className = \"mainPage__separation\"/>\n        <div className = \"mainPage__title\">Room Suggestions</div>\n        <ul style={{margin:0}} className = \"mainPage__room-list\">\n            {roomList.slice(0, 2)}\n        </ul>\n        <div className = \"mainPage__separation\"/>\n        <div className = \"mainPage__title\">Restaurant List</div>\n        <ul style={{margin:0}} className = \"mainPage__rest-card-list\">\n            {restList}\n        </ul>\n        {/* <TabBar/> */}\n      </div>\n    </div>\n      \n  )\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}